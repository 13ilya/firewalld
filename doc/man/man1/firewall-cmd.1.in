.TH firewall-cmd 1 "@VERSION@" "" "FirewallD Utilities"
.nh
.ad l
'\" t

.SH NAME
firewall-cmd \- firewalld command line client


.SH SYNOPSIS
.IP \fBfirewall-cmd\fR\ \fB[OPTIONS..]\fR

.SH DESCRIPTION
\fBfirewall-cmd\fR is the command line client of the firewalld daemon. It provides interface to manage runtime and persistent configuration.

.SH OPTIONS

The following options are supported:

.SS Help Options
.TP
\fB-h\fR, \fB--help\fR
Print a description of the options of firewall-cmd.
.TP
\fB-V\fR, \fB--version\fR
Print the version string of firewalld.

.SS Status Options
.TP
\fB--state\fR
Check whether the firewalld daemon is active (i.e. running). Returns an exit code 0 if it is active, \fINOT_RUNNING\fR (see \fIEXIT CODES\fR) otherwise. This will also print the state to STDOUT.
.TP
\fB--reload\fR
Reload firewall rules and keep state information.
.TP
\fB--complete-reload\fR
Reload firewall completely, even netfilter kernel modules. This will most likely terminate active connections, because state information is lost. This option should only be used in case of severe firewall problems. For example if there are state information problems that no connection can be established with correct firewall rules.

.SS Panic Options
.TP
\fB--panic-on\fR
Enable panic mode. All incoming and outgoing packets are dropped, active connections will be terminated after a while of activity. Enable this only if there are serious problems with your network environment. For example if the machine is getting hacked in.
.TP
\fB--panic-off\fR
Disable panic mode again. After disabling panic mode established connections might work again, if panic mode was enabled for a short period of time.
.TP
\fB--query-panic\fR
Returns 0 if panic mode is enabled, 1 otherwise.

.SS Zone Options
.TP
\fB--get-default-zone\fR
Print default zone for connections and interfaces. By default this is \fIpublic\fR.
.TP
\fB--set-default-zone\fR=\fI<zone>\fR
Set default zone for connections and interfaces where no zone has been selected. Setting the default zone changes the zone for the connections or interfaces, that are using the default zone. This is a persistent change.
.TP
\fB--get-zones\fR
Print predefined zones as a space separated list.
.TP
\fB--get-services\fR
Print predefined services as a space separated list.
.TP
\fB--get-icmptypes\fR
Print predefined icmptypes as a space separated list.
.TP
\fB--get-active-zones\fR
Print currently active zones altogether with interfaces in these zones. The output format is:
 <zone1>: <interface1> <interface2> ..
 <zone2>: <interface3> ..
.TP
\fB--get-zone-of-interface\fR=\fI<interface>\fR
Print a zone of the interface \fI<interface>\fR or nothing if the interface does not belong to a zone.
.TP
\fB--list-all-zones\fR
List all actions added for or all zones. The output format is:
 <zone>
   interfaces: <interface1> ..
   services: <service1> ..
   ports: <port1> ..
   forward-ports: <forward port1> ..
   icmp-blocks: <icmp type1> ..

 ..

.SS Options to Handle Interfaces
Options in this and the following section affect only one particular zone.
If used with \fB--zone\fR=\fI<zone>\fR, they affect zone \fI<zone>\fR.
If \fB--zone\fR=\fI<zone>\fR is omitted, they affect default zone (see \fB--get-default-zone\fR).
For a list of predefined zones use \fI--get-zones\fR.
An interface name is a string up to 16 characters long, that may not contain \fI' '\fR, \fI'/'\fR, \fI'!'\fR and \fI'*'\fR.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-interfaces\fR
List interfaces that belong to the zone \fI<zone>\fR as a space separated list. If zone is omitted, the default zone will be used.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--add-interface\fR=\fI<interface>\fR
Add interface \fI<interface>\fR to zone \fI<zone>\fR. If zone is omitted, the default zone will be used.
.TP
[\fB--zone\fR=\fI<zone>\fR] { \fB--change-interface\fR=\fI<interface>\fR | \fB--change-zone\fR=\fI<interface>\fR }
Change the zone the interface \fI<interface>\fR belongs to to zone \fI<zone>\fR. If zone is omitted, default zone will be used. If the old and the new zone are the same, the call will be ignored without an error. If the interface has not belonged to a zone previously, it will behave like \fI--add-interface\fR.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--query-interface\fR=\fI<interface>\fR
Query whether the interface \fI<interface>\fR belongs to the zone \fI<zone>\fR. Returns 0 if true, 1 otherwise.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--remove-interface\fR=\fI<interface>\fR
Remove the interface \fI<interface>\fR from zone \fI<zone>\fR. If zone is omitted, the default zone will be used.

.SS Options to Adapt and Query Zones
For possible \fIACTION\fRs, please have a look at the \fBAction Options for Use with Options to Adapt and Query Zones\fR section further down.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--add-\fR\fIACTION\fR [\fB--timeout\fR=\fI<seconds>\fR]
Add \fIACTION\fR for zone \fI<zone>\fR. This option can be specified multiple times. If zone is omitted, the default zone will be used. To get the default zone use \fB--get-default-zone\fR. If a timeout is supplied, the \fIACTION\fR(s) will be active for the amount of seconds and will be removed automatically afterwards.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--remove-\fR\fIACTION\fR
Remove an \fIACTION\fR from the zone \fI<zone>\fR. This option can be specified multiple times. If zone is omitted, the default zone will be used. If the \fIACTION\fR was added with a timeout, it will be removed also.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--query-\fR\fIACTION\fR
Return whether an \fIACTION\fR has been added for the zone \fI<zone>\fR. If zone is omitted, the default zone will be used. There is no output. Returns 0 if true, 1 otherwise.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--add-masquerade\fR [\fB--timeout\fR=\fI<seconds>\fR]
Enable masquerade for zone \fI<zone>\fR. If zone is omitted, the default zone will be used. If a timeout is supplied, masquerading will be active for the amount of seconds. Masquerading is useful if the machine is a router and machines connected over an interface in another zone should be able to use the first connection.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--remove-masquerade\fR
Disable masquerade for zone \fI<zone>\fR. If zone is omitted, the default zone will be used. If the masquerading was enabled with a timeout, it will be disabled also.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--query-masquerade\fR
Return whether masquerading has been enabled for the zone \fI<zone>\fR. If zone is omitted, the default zone will be used. There is no output. Returns 0 if true, 1 otherwise.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-services\fR
List services added for zone \fI<zone>\fR as a space separated list. If zone is omitted, the default zone will be used. For a list of all predefined services use \fI--get-services\fR.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-ports\fR
List ports added for zone \fI<zone>\fR as a space separated list. A port is of the form \fI<port>\fR[-\fI<port>\fR]/\fI<protocol>\fR, it can be either a port and protocol pair or a port range with a protocol. If zone is omitted, the default zone will be used.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-icmp-blocks\fR
List Internet Control Message Protocol (ICMP) type blocks added for zone \fI<zone>\fR as a space separated list. If zone is omitted, the default zone will be used. For a list of all predefined icmptypes use \fI--get-icmptypes\fR.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-forward-ports\fR
List forward port added for zone \fI<zone>\fR as a space separated list. If zone is omitted, the default zone will be used.
.TP
[\fB--zone\fR=\fI<zone>\fR] \fB--list-all\fR
List all actions added for or enabled in zone \fI<zone>\fR. If zone is omitted, the default zone will be used.

.SS Action Options for Use with Options to Adapt and Query Zones
These \fIACTION\fRs are used in \fB--add-\fR\fIACTION\fR, \fB--remove-\fR\fIACTION\fR and \fB--query-\fR\fIACTION\fR as described in previous section.
.TP
\fBservice\fR=\fI<service>\fR
Use one of the predefined services. For a list of all predefined services use \fI--get-services\fR.
.TP
\fBport\fR=\fI<port>\fR[-\fI<port>\fR]/\fI<protocol>\fR
Use a port \fI<port>\fR or port range \fI<port>-<port>\fR altogether with a protocol. A port is a port number \fI[1..65535]\fR. The protocol can be either \fItcp\fR or \fIudp\fR.
.TP
\fBicmp-block\fR=\fI<icmptype>\fR
Use one of the predefined ICMP types. For a list of all predefined ICMP types use \fI--get-icmptypes\fR.
.TP
\fBforward-port\fR=port=\fI<port>\fR[-\fI<port>\fR]:proto=\fI<protocol>\fR:toport=\fI<port>\fR[-\fI<port>\fR]
Use port or packet forwarding. The source and the destination ports are a port or port range altogether with a protocol. The protocol can be either \fItcp\fR or \fIudp\fR.
Forward from the local port \fIport\fR to the local port \fItoport\fR.
.TP
\fBforward-port\fR=port=\fI<port>\fR[-\fI<port>\fR]:proto=\fI<protocol>\fR:toaddr=\fI<address>\fR
Forward from the local port \fIport\fR to the same port on host \fItoaddr\fR.
.TP
\fBforward-port\fR=port=\fI<port>\fR[-\fI<port>\fR]:proto=\fI<protocol>\fR:toport=\fI<port>\fR[-\fI<port>\fR]:toaddr=\fI<address>\fR
Forward from the local port \fIport\fR to port \fItoport\fR on host \fItoaddr\fR.

.SS Permanent Options
The permanent options can be used to set options permanently. These changes are not effective immediately, only after service restart/reload or system reboot. The following options are possible to be used:

.TP
\fB--permanent\fR { \fB--get-zones\fR | \fB--get-services\fR | \fB--get-icmptypes\fR }
.TP
\fB--permanent\fR [\fB--zone\fR=\fI<zone>\fR] { \fB--list-services\fR | \fB--list-ports\fR | \fB--list-icmp-blocks\fR | \fB--list-forward-ports\fR }
.TP
\fB--permanent\fR [\fB--zone\fR=\fI<zone>\fR] { \fB--add-\fR\fIACTION\fR | \fB--remove-\fR\fIACTION\fR | \fB--query-\fR\fIACTION\fR }
.TP
\fB--permanent\fR [\fB--zone\fR=\fI<zone>\fR] { \fB--add-masquerade\fR | \fB--remove-masquerade\fR | \fB--query-masquerade\fR }

For a detailed description, please have a look at the non-permanent options.

.SS Direct Options
The direct options give a more direct access to the firewall. With \fIipv4\fR it will be for IPv4 (\fIiptables\fR(8)), with \fIipv6\fR for IPv6 (\fIip6tables\fR(8)) and with \fIeb\fR for ethernet bridges (\fIebtables\fR(8)).

.TP
\fB--direct\fR \fB--passthrough\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<args>\fR
Pass a command through to the firewall. \fI<args>\fR can be all iptables, ip6tables and ebtables command line arguments.
.TP
\fB--direct\fR \fB--add-chain\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR
Add a new chain with name \fI<chain>\fR to table \fI<table>\fR.
.TP
\fB--direct\fR \fB--remove-chain\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR
Remove a chain with name \fI<chain>\fR from table \fI<table>\fR.
.TP
\fB--direct\fR \fB--query-chain\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR
Return whether a chain with name \fI<chain>\fR exists in table \fI<table>\fR. Returns 0 if true, 1 otherwise.
.TP
\fB--direct\fR \fB--get-chains\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR
Get all chains added to table \fI<table>\fR as a space separated list.
.TP
\fB--direct\fR \fB--add-rule\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR \fI<priority>\fR \fI<args>\fR
Add a rule with the arguments \fI<args>\fR to chain \fI<chain>\fR in table \fI<table>\fR with priority \fI<priority>\fR.
.TP
\fB--direct\fR \fB--remove-rule\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR \fI<args>\fR
Remove a rule with the arguments \fI<args>\fR from chain \fI<chain>\fR in table \fI<table>\fR.
.TP
\fB--direct\fR \fB--query-rule\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR \fI<args>\fR
Return whether a rule with the arguments \fI<args>\fR exists in chain \fI<chain>\fR in table \fI<table>\fR. Returns 0 if true, 1 otherwise.
.TP
\fB--direct\fR \fB--get-rules\fR { \fIipv4\fR | \fIipv6\fR | \fIeb\fR } \fI<table>\fR \fI<chain>\fR
Get all rules added to chain \fI<chain>\fR in table \fI<table>\fR as a newline separated list of arguments.

.SH EXIT CODES

On success 0 is returned. In case of error one of the following error codes:

.TS
allbox tab(=) nospaces;
l nw(1i).
\fBString\fR = \fBCode\fR
@FIREWALLD_ERROR_CODES@
.TE

.SH SEE ALSO
\fIfirewalld\fR(1), 
\fIfirewalld.conf\fR(5), 
\fIfirewalld.icmptype\fR(5), 
\fIfirewalld.service\fR(5), 
\fIfirewalld.zone\fR(5)

.SH AUTHOR
\fBThomas Woerner\fR <twoerner@redhat.com>
.br
\fBJiri Popelka\fR <jpopelka@redhat.com>

.SH NOTES
Firewalld home page at fedorahosted.org
.RS
\fBhttp://fedorahosted.org/firewalld/\fR
.RE
More documentation with examples
.RS
\fBhttp://fedoraproject.org/wiki/FirewallD/\fR
